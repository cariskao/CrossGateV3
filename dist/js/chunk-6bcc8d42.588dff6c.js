(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6bcc8d42","chunk-34d69183"],{4252:function(t,a,s){"use strict";var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("table",{staticClass:"table table-hover"},[t._t("tableHead",[t._m(0)]),t._t("tableBody",[s("tbody",t._l(t.tableData.carts,function(a){return s("tr",{key:a.id},[s("td",{staticClass:"align-middle"},[s("button",{staticClass:"btn btn-outline-danger btn-sm border-0",attrs:{type:"button",disabled:""!=t.loadingItem},on:{click:function(s){t.doit(a.id,a.product.title)}}},[t.loadingItem===a.id?s("i",{staticClass:"fas fa-spinner fa-spin"}):s("i",{staticClass:"far fa-trash-alt"})])]),s("td",{staticClass:"align-middle"},[s("p",{staticClass:"mb-0"},[s("span",{staticClass:"badge d-none d-md-inline-block",class:t._f("category")(a.product.category)},[t._v(t._s(a.product.category))]),s("span",[t._v(t._s(a.product.title))]),s("span",{staticClass:"text-right d-md-none"},[t._v(t._s(a.qty)+" "+t._s(a.product.unit))])]),a.coupon?s("div",{staticClass:"text-success"},[s("small",[t._v("已套用"+t._s(a.coupon.title))])]):t._e()]),s("td",{staticClass:"align-middle text-nowrap d-none d-md-table-cell"},[t._v(t._s(a.qty)+" "+t._s(a.product.unit))]),a.total!==a.final_total?s("td",{staticClass:"align-middle text-right text-nowrap"},[s("div",{staticClass:"text-dontcare"},[s("em",[s("del",[t._v(t._s(t._f("currency")(a.total)))])])]),s("div",[t._v(t._s(t._f("currency")(a.final_total)))])]):s("td",{staticClass:"align-middle text-right text-nowrap"},[t._v(t._s(t._f("currency")(a.final_total)))])])}),0)]),t._t("tableFooter",[s("tfoot",[t.tableData.final_total==t.tableData.total?s("tr",{staticClass:"text-right"},[s("td"),s("td",{staticClass:"d-none d-md-table-cell"}),s("td",{staticClass:"align-middle"},[t._v("總計")]),s("td",{staticClass:"align-middle"},[t._v(t._s(t._f("currency")(t.tableData.total)))])]):s("tr",{staticClass:"text-right text-dontcare"},[s("td"),s("td",{staticClass:"d-none d-md-table-cell"}),t._m(1),s("td",{staticClass:"align-middle"},[s("em",[s("del",[t._v(t._s(t._f("currency")(t.tableData.total)))])])])]),t.tableData.final_total!==t.tableData.total?s("tr",{staticClass:"text-right text-danger"},[s("td"),s("td",{staticClass:"d-none d-md-table-cell"}),s("td",{staticClass:"align-middle font-weight-bold"},[t._v("折扣價")]),s("td",{staticClass:"align-middle font-weight-bold"},[t._v(t._s(t._f("currency")(t.tableData.final_total)))])]):t._e()])])],2)},i=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("thead",{staticClass:"table-becare"},[s("tr",{staticClass:"text-nowrap"},[s("th",{staticClass:"p-1",attrs:{width:"30"}}),s("th",[t._v("品名")]),s("th",{staticClass:"d-none d-md-table-cell",attrs:{width:"80"}},[t._v("數量")]),s("th",{attrs:{width:"100"}},[t._v("單價")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("td",{staticClass:"align-middle"},[s("em",[t._v("總計")])])}],l={name:"shopCartTable",props:{tableData:{type:Object,default:function(){return{}}},loadingItem:{type:String,default:""}},methods:{doit:function(t,a){this.$emit("doit",t,a)}}},r=l,n=s("2877"),c=Object(n["a"])(r,e,i,!1,null,null,null);c.options.__file="shopCartTable.vue";a["a"]=c.exports},5730:function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"container"},[s("orderCheckout",{attrs:{option:t.option}})],1)},i=[],l=s("dcf7"),r={components:{orderCheckout:l["default"]},data:function(){return{option:{redirePath:"/shopping"}}}},n=r,c=s("2877"),o=Object(c["a"])(n,e,i,!1,null,null,null);o.options.__file="orderCheck.vue";a["default"]=o.exports},dcf7:function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}},[e("img",{attrs:{src:s("f8b2"),alt:"",width:"200"}})]),e("div",{staticClass:"form-row text-center mt-5"},[t._m(0),e("div",{staticClass:"col-12 col-sm"},[e("div",{staticClass:"alert alert-primary alert-rounded shadow-sm",class:{"alert-success":t.order.is_paid},attrs:{role:"alert"}},[t._v("\n          2.確認付款\n          "),t.order.is_paid?e("i",{staticClass:"fas fa-check ml-1"}):e("i",{staticClass:"fas fa-map-marker-alt ml-1"})])]),e("div",{staticClass:"col-12 col-sm"},[e("div",{staticClass:"alert alert-secondary alert-rounded shadow-sm",class:{"alert-success":t.order.is_paid},attrs:{role:"alert"}},[t._v("\n          3.完成\n          "),t.order.is_paid?e("i",{staticClass:"fas fa-check ml-1"}):t._e()])])]),e("div",{staticClass:"my-3 row justify-content-center"},[e("form",{staticClass:"col-md-8",on:{submit:function(a){return a.preventDefault(),t.payOrder(a)}}},[t._m(1),e("div",{staticClass:"table-responsive"},[e("shopCartTable",[e("thead",{staticClass:"table-becare",attrs:{slot:"tableHead"},slot:"tableHead"},[e("tr",{staticClass:"text-nowrap"},[e("th",[t._v("品名")]),e("th",{attrs:{width:"80"}},[t._v("數量")]),e("th",{attrs:{width:"80"}},[t._v("單價")])])]),e("tbody",{staticClass:"bg-white",attrs:{slot:"tableBody"},slot:"tableBody"},t._l(t.order.products,function(a){return e("tr",{key:a.id},[e("td",{staticClass:"align-middle"},[e("p",{staticClass:"mb-0"},[e("span",{staticClass:"badge d-none d-md-inline-block",class:t._f("category")(a.product.category)},[t._v("\n                      "+t._s(a.product.category)+"\n                  ")]),t._v("\n                  "+t._s(a.product.title)+"\n                  "),e("span",{staticClass:"text-right d-md-none"},[t._v(t._s(a.qty)+" "+t._s(a.product.unit))])]),a.coupon?e("div",{staticClass:"text-success"},[e("small",[t._v("已套用"+t._s(a.coupon.title))])]):t._e()]),e("td",{staticClass:"align-middle"},[t._v(t._s(a.qty)+"/"+t._s(a.product.unit))]),a.total!==a.final_total?e("td",{staticClass:"align-middle text-right text-nowrap"},[e("div",{staticClass:"text-dontcare"},[e("em",[e("del",[t._v(t._s(t._f("currency")(a.total)))])])]),e("div",[t._v("\n                  "+t._s(t._f("currency")(a.final_total))+"\n                ")])]):e("td",{staticClass:"align-middle text-right text-nowrap"},[t._v("\n                "+t._s(t._f("currency")(a.final_total))+"\n              ")])])}),0),e("tfoot",{staticClass:"bg-white",attrs:{slot:"tableFooter"},slot:"tableFooter"},[e("tr",[e("td",{staticClass:"text-right",attrs:{colspan:"2"}},[t._v("總計")]),t.order.total?e("td",{staticClass:"text-right text-danger font-weight-bold"},[t._v(t._s(t._f("currency")(t.order.total)))]):t._e()])])])],1),t._m(2),e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table"},[e("tbody",{staticClass:"bg-white"},[e("tr",[e("th",{staticClass:"table-success align-middle",attrs:{width:"100"}},[t._v("Email")]),e("td",[t._v(t._s(t.order.user.email))])]),e("tr",[e("th",{staticClass:"table-success  align-middle"},[t._v("姓名")]),e("td",[t._v(t._s(t.order.user.name))])]),e("tr",[e("th",{staticClass:"table-success  align-middle"},[t._v("電話")]),e("td",[t._v(t._s(t.order.user.tel))])]),e("tr",[e("th",{staticClass:"table-success  align-middle"},[t._v("地址")]),e("td",[t._v(t._s(t.order.user.address))])]),e("tr",[e("th",{staticClass:"table-success  align-middle"},[t._v("付款狀態")]),e("td",[t.order.is_paid?e("span",{staticClass:"text-success font-weight-bold"},[t._v("付款完成")]):e("span",[t._v("尚未付款")])])])])])]),!1===t.order.is_paid?e("button",{staticClass:"btn btn-becare btn-block btn-lg font-weight-bold text-main",attrs:{disabled:t.status.loadIcon}},[t.status.loadIcon?e("i",{staticClass:"fas fa-spinner fa-spin mr-1"}):e("i",{staticClass:"fas fa-clipboard-check mr-1"}),t._v("確認付款\n      ")]):e("router-link",{staticClass:"btn btn-main btn-block btn-lg font-weight-bold",attrs:{to:t.option.redirePath}},[e("i",{staticClass:"fas fa-reply mr-1"}),t._v("繼續逛逛？\n      ")])],1)])],1)},i=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"col-12 col-sm"},[s("div",{staticClass:"alert alert-success alert-rounded shadow-sm",attrs:{role:"alert"}},[t._v("\n          1.輸入收件人資訊"),s("i",{staticClass:"fas fa-check ml-1"})])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("h3",{staticClass:"text-center text-main"},[s("i",{staticClass:"fas fa-shopping-cart mr-2"}),t._v("購買商品清單\n      ")])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("h3",{staticClass:"text-center text-main mt-4"},[s("i",{staticClass:"fas fa-user-circle mr-2"}),t._v("購買人資料")])}],l=s("4252"),r={components:{shopCartTable:l["a"]},props:{option:{type:Object,default:function(){return{redirePath:"/admin/shopping-demo"}}}},data:function(){return{orderId:"",isLoading:!1,order:{user:{}},status:{loadIcon:!1}}},methods:{getOrder:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("crossgate","/order/").concat(t.orderId);t.isLoading=!0,this.$http.get(a).then(function(a){a.data.success&&a.data.order?(t.order=a.data.order,t.isLoading=!1):(t.isLoading=!1,t.$bus.$emit("message:push","糟糕...沒有這筆訂單喔！","danger"),t.$router.push("/admin/shopping-demo"))})},payOrder:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("crossgate","/pay/").concat(t.orderId);t.status.loadIcon=!0,this.$http.post(a).then(function(a){a.data.success&&(a.data.success?(t.$bus.$emit("message:push",a.data.message,"success"),t.getOrder()):t.$bus.$emit("message:push","付款失敗 :( ","danger"),t.status.loadIcon=!0)})}},created:function(){this.orderId=this.$route.params.orderID,this.getOrder()}},n=r,c=s("2877"),o=Object(c["a"])(n,e,i,!1,null,null,null);o.options.__file="orderCheckout.vue";a["default"]=o.exports},f8b2:function(t,a,s){t.exports=s.p+"img/loading.0f6ddb71.gif"}}]);
//# sourceMappingURL=chunk-6bcc8d42.588dff6c.js.map