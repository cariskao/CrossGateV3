(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-456834ab"],{"56a6":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"message-alert",class:{active:0!==e.messages.length}},e._l(e.messages,function(t,a){return s("div",{key:a,staticClass:"alert alert-dismissible mb-0 rounded-0",class:"alert-"+t.status},[e._v("\n    "+e._s(t.message)+"\n    "),s("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(t){e.removeMessage(a)}}},[s("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])])}),0)},r=[],i=(s("ac6a"),{name:"alertMessage",data:function(){return{messages:[]}},methods:{updateMessage:function(e,t){var s=Math.floor(new Date/1e3);this.messages.push({message:e,status:t,timestamp:s}),this.removeMessageWithTiming(s)},removeMessage:function(e){this.messages.splice(e,1)},removeMessageWithTiming:function(e){var t=this;setTimeout(function(){t.messages.forEach(function(s,a){s.timestamp===e&&t.messages.splice(a,1)})},1500)}},created:function(){var e=this;e.$bus.$on("message:push",function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning";e.updateMessage(t,s)})}}),n=i,o=s("2877"),c=Object(o["a"])(n,a,r,!1,null,null,null);c.options.__file="AlertMessage.vue";t["a"]=c.exports},ac6a:function(e,t,s){for(var a=s("cadf"),r=s("0d58"),i=s("2aba"),n=s("7726"),o=s("32e9"),c=s("84f2"),u=s("2b4c"),l=u("iterator"),m=u("toStringTag"),d=c.Array,g={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=r(g),f=0;f<p.length;f++){var h,b=p[f],v=g[b],C=n[b],L=C&&C.prototype;if(L&&(L[l]||o(L,l,d),L[m]||o(L,m,b),c[b]=d,v))for(h in a)L[h]||i(L,h,a[h],!0)}},b804:function(e,t,s){e.exports=s.p+"img/crossgate-logo.9a00f280.png"},dd7b:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"back-background"},[s("alertMessage"),s("div",{staticClass:"container d-flex flex-column justify-content-center",attrs:{id:"container"}},[s("div",{staticClass:"row no-gutters justify-content-center"},[s("div",{staticClass:"col-md-6 col-lg-5 col-xl-4"},[e._m(0),e._m(1),s("form",{on:{submit:function(t){return t.preventDefault(),e.signin(t)}}},[s("div",{staticClass:"login-form-block"},[s("div",{staticClass:"login-form mb-3"},[s("label",{staticClass:"material-icons login-form-icon",attrs:{for:"username"}},[e._v("\n                person\n              ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.username,expression:"user.username"}],staticClass:"form-input w-100",attrs:{type:"email",id:"username",placeholder:"Email",required:"",autofocus:""},domProps:{value:e.user.username},on:{input:function(t){t.target.composing||e.$set(e.user,"username",t.target.value)}}})]),s("div",{staticClass:"login-form mb-3"},[s("label",{staticClass:"material-icons login-form-icon",attrs:{for:"password"}},[e._v("\n                vpn_key\n              ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],staticClass:"form-input w-100",attrs:{type:"password",id:"password",placeholder:"PassWord",required:""},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}})]),s("div",{staticClass:"remember-block"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.isRemember,expression:"user.isRemember"}],staticClass:"remember-checkbox",attrs:{type:"checkbox",id:"remenberme"},domProps:{checked:Array.isArray(e.user.isRemember)?e._i(e.user.isRemember,null)>-1:e.user.isRemember},on:{change:function(t){var s=e.user.isRemember,a=t.target,r=!!a.checked;if(Array.isArray(s)){var i=null,n=e._i(s,i);a.checked?n<0&&e.$set(e.user,"isRemember",s.concat([i])):n>-1&&e.$set(e.user,"isRemember",s.slice(0,n).concat(s.slice(n+1)))}else e.$set(e.user,"isRemember",r)}}}),s("label",{staticClass:"text-white mb-0",attrs:{for:"remenberme"}},[e._v("記住我")])])]),s("button",{staticClass:"login-btn",attrs:{type:"submit"}},[e._v("登入")])]),s("p",{staticClass:"py-3 text-center mb-0"},[s("router-link",{staticClass:"text-main font-weight-bold",attrs:{to:"/index"}},[e._v("© 2018 CrossGate 遊戲商店")])],1)])])])],1)},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"text-center"},[a("img",{staticClass:"img-fluid",attrs:{src:s("b804"),alt:"CrossGate"}})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login-form-title"},[s("h1",[e._v("ＣｒｏｓｓＧａｔｅ管理平台")])])}],i=s("56a6"),n=s("1157"),o=s.n(n),c={name:"Login",components:{alertMessage:i["a"]},data:function(){return{user:{username:"",password:"",isRemember:!1}}},methods:{signin:function(){var e="".concat("https://vue-course-api.hexschool.io","/admin/signin"),t=this;t.$store.dispatch("updateLoading",!0),localStorage.setItem("isRemember",t.user.isRemember),t.user.isRemember?localStorage.setItem("userAccount",t.user.username):localStorage.removeItem("userAccount"),this.$http.post(e,t.user).then(function(e){e.data.success?(t.$store.dispatch("updateLoading",!1),t.$router.push("/admin/products")):(t.$store.dispatch("updateLoading",!1),t.$bus.$emit("message:push","".concat(e.data.message,"，請確認您的帳號密碼。"),"danger"))})},rememberMe:function(){var e=localStorage.getItem("userAccount")||"",t=localStorage.getItem("isRemember")||!1,s=this;"true"===t&&(s.user.username=e,s.user.isRemember=!0)},heightFix:function(){var e=o()(window).height();document.querySelector("#container")&&(document.querySelector("#container").style.minHeight=e+"px")}},mounted:function(){var e=this;e.heightFix(),e.rememberMe(),window.onresize=function(){return e.heightFix()}}},u=c,l=s("2877"),m=Object(l["a"])(u,a,r,!1,null,null,null);m.options.__file="login.vue";t["default"]=m.exports}}]);
//# sourceMappingURL=chunk-456834ab.5876f19d.js.map